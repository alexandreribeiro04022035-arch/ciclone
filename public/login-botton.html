<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - PTC System</title>
    <!-----     -link rel="stylesheet" href="style.css" ------>
    <style>
    
/* ======= GLOBAL ======= */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #e9e9e9;
}

/* ======= TOP BAR ======= */
.warning-bar {
    background: #002f66;
    color: white;
    padding: 10px;
    text-align: center;
    font-size: 14px;
}

/* ======= HEADER ======= */
header {
    background: #004a8f;
    padding: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: white;
}

header img {
    height: 40px;
}

nav a {
    color: white;
    margin-left: 20px;
    text-decoration: none;
    font-weight: bold;
    font-size: 14px;
}

/* ======= CONTAINERS ======= */
.container {
    background: white;
    margin: 20px;
    padding: 20px;
    border-radius: 8px;
}

h2 {
    margin-top: 0;
    font-size: 22px;
    border-bottom: 2px solid #ccc;
    padding-bottom: 5px;
}

/* ======= LOGIN FORM ======= */
.login-box {
    width: 340px;
    margin: 80px auto;
    padding: 25px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(0,0,0,0.2);
}

.login-box h2 {
    text-align: center;
}

.login-box input {
    width: 100%;
    padding: 9px;
    margin-top: 10px;
    border-radius: 5px;
    border: 1px solid #bbb;
}

.login-box button {
    margin-top: 15px;
    width: 100%;
    background: #0077ff;
    color: white;
    padding: 10px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
}

/* ======= AD BOXES ======= */
.ads-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.ad-box {
    width: 220px;
    background: #fdfdfd;
    border: 1px solid #dcdcdc;
    border-radius: 5px;
    padding: 10px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.ad-title-green,
.ad-title-yellow {
    padding: 8px;
    font-weight: bold;
    border-radius: 4px 4px 0 0;
    text-align: center;
    margin: -10px -10px 10px -10px;
}

.ad-title-green {
    background: #baf08f;
}

.ad-title-yellow {
    background: #f8c85b;
}

.ad-desc {
    font-size: 13px;
    color: #555;
    text-align: center;
    margin-bottom: 12px;
}

.ad-time {
    text-align: right;
    font-size: 12px;
    font-weight: bold;
    color: #666;
}

/* ===== TIMER PAGE ===== */
.timer-box {
    text-align: center;
    padding: 20px;
    font-size: 20px;
    font-weight: bold;
}

.complete-btn {
    display: none;
    margin-top: 20px;
    padding: 12px 20px;
    background: #4caf50;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    border: none;
    font-size: 18px;
}
    
    
    
    </style>
    
    
</head>
<body>

<div class="login-box">
    <h2>Login</h2>

    <input type="email" id="email" placeholder="Digite seu e-mail">
    <input type="password" id="senha" placeholder="Digite sua senha">

    <button onclick="login()">Entrar</button>
</div>

      <div class="link">
      CAD  <a href="register-botton.html">CAD</a>
        Já possui conta? <a href="login-botton.html">Login</a>
          
          
           <p>Parabens ! </p>
        <p> Tu fez cadastro ,o proximo passo</p>
        <p>fazer o upgrade da tua conta Free</p>
         <p> para a conta Pro , porque a conta </p>
        <p> Free, (nao paga), tu pode acumular  creditos</p>
       <p> clicando nos anuncios e avaliando os </p>
        <p>produtos ; mas enquanto tu nao fizer   </p>
       <p><a href="upgrade.html">upgrade</a>  , NAO  podera sacar .</p>
        <p>Teus creditos acumulados , usando o CICLONE </p>
     <p>nao se perdem , fica no CICLONE  </p>
       <p>quando tu fizer o upgrade recebera os ganhos    </p> 
     <p> <a href="upgrade.html">  Apenas R$ 15,00 , para fazer o Upgrade  </a> </p>
    
    </div>
    
<script src="script.js">
    // -------------------------------
// FUNÇÃO DE CADASTRO
// -------------------------------
function register() {
    let nome = document.getElementById("nome").value;
    let email = document.getElementById("email").value;
    let senha = document.getElementById("senha").value;
    let confirmar = document.getElementById("confirmar").value;

    if (!nome || !email || !senha || !confirmar) {
        alert("Preencha todos os campos!");
        return;
    }

    if (senha !== confirmar) {
        alert("As senhas não coincidem!");
        return;
    }

    let users = JSON.parse(localStorage.getItem("users")) || [];

    // verificar se o email já existe
    if (users.some(u => u.email === email)) {
        alert("Este e-mail já está cadastrado!");
        return;
    }

    // adicionar novo usuário
    users.push({
        nome: nome,
        email: email,
        senha: senha,
        saldo: 0
    });

    localStorage.setItem("users", JSON.stringify(users));

    alert("Conta criada com sucesso!");
    window.location.href = "login.html";
}

// -------------------------------
// FUNÇÃO DE LOGIN
// -------------------------------
function login() {
    let email = document.getElementById("email").value;
    let senha = document.getElementById("senha").value;

    let users = JSON.parse(localStorage.getItem("users")) || [];

    let user = users.find(u => u.email === email && u.senha === senha);

    if (!user) {
        alert("E-mail ou senha incorretos!");
        return;
    }

    localStorage.setItem("loggedUser", JSON.stringify(user));
    window.location.href = "dashboard.html";
}

// -------------------------------
// CHECAR LOGIN EM PÁGINAS PROTEGIDAS
// -------------------------------
function checkLogin() {
    if (!localStorage.getItem("loggedUser")) {
        window.location.href = "login.html";
        return;
    }

    let user = JSON.parse(localStorage.getItem("loggedUser"));

    let nomeEl = document.getElementById("userName");
    let saldoEl = document.getElementById("userSaldo");

    if (nomeEl) nomeEl.innerText = user.nome;
    if (saldoEl) saldoEl.innerText = user.saldo.toFixed(2);
}

// -------------------------------
// LOGOUT
// -------------------------------
function logout() {
    localStorage.removeItem("loggedUser");
    window.location.href = "login.html";
}

// -------------------------------
// VISUALIZAR ANÚNCIOS
// -------------------------------
function openAd(id) {
    localStorage.setItem("currentAd", id);
    window.location.href = "viewad.html";
}

// -------------------------------
// TIMER DE 30 SEGUNDOS
// -------------------------------
function startTimer() {
    let adId = localStorage.getItem("currentAd");
    document.getElementById("adIdLabel").innerText = adId;

    let timer = 30;
    let interval = setInterval(() => {
        timer--;
        document.getElementById("timer").innerText = timer + "s";

        if (timer <= 0) {
            clearInterval(interval);
            document.getElementById("finishBtn").style.display = "block";
        }
    }, 1000);
}

// -------------------------------
// FINALIZAR VISUALIZAÇÃO DO ANÚNCIO
// -------------------------------
function finishAd() {
    let user = JSON.parse(localStorage.getItem("loggedUser"));
    let users = JSON.parse(localStorage.getItem("users"));

    // adicionar saldo ao usuário
    user.saldo += 0.01;

    // atualizar na lista de usuários
    users = users.map(u => (u.email === user.email ? user : u));

    // salvar no localStorage
    localStorage.setItem("loggedUser", JSON.stringify(user));
    localStorage.setItem("users", JSON.stringify(users));

    alert("Crédito adicionado!");

    window.location.href = "viewads.html";
}
    
    
    </script>
</body>
</html>
