<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel - CICLONE</title>
<style>
    body { margin: 0; background: #eef2f5; font-family: Arial, sans-serif; }
    .header { background: #0066cc; color: white; padding: 15px; text-align: center; position: fixed; top: 0; left: 0; width: 100%; z-index: 20; font-size: 19px; font-weight: bold; }
    .menu { margin-top: 70px; display: flex; justify-content: space-around; background: #fff; padding: 10px 0; border-bottom: 1px solid #ccc; }
    .menu a { text-decoration: none; color: #0066cc; font-weight: bold; font-size: 15px; }
    .saldo-info { background: #198754; color: white; padding: 15px; margin: 10px 20px; border-radius: 8px; text-align: center; font-size: 18px; font-weight: bold; }
    .user-info { background: white; margin: 10px 20px; padding: 15px; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.15); }
    .info-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee; }
    .info-item:last-child { border-bottom: none; }
    .info-label { font-weight: bold; color: #555; }
    .info-value { color: #333; }
    .grid { padding: 20px; display: grid; gap: 15px; grid-template-columns: repeat(2, 1fr); }
    .box { background: white; padding: 25px 10px; border-radius: 8px; text-align: center; font-size: 17px; font-weight: bold; color: #333; box-shadow: 0 0 8px rgba(0,0,0,0.15); cursor: pointer; transition: 0.2s; }
    .box:hover { transform: scale(1.06); box-shadow: 0 0 12px rgba(0,0,0,0.25); }
</style>
</head>
<body onload="carregarDadosUsuario()">

<div class="header">Painel CICLONE</div>

<div class="menu">
    <a href="dashboard.html">Minha Conta</a>
    <a href="viewads-top.html">Ganhe Dinheiro</a>
    <a href="index.html" onclick="logout()">Sair</a>
</div>

<div class="saldo-info" id="saldoInfo">Carregando saldo...</div>

<div class="user-info">
    <div class="info-item">
        <span class="info-label">ID:</span>
        <span class="info-value" id="userId">-</span>
    </div>
    <div class="info-item">
        <span class="info-label">Email:</span>
        <span class="info-value" id="userEmail">-</span>
    </div>
    <div class="info-item">
        <span class="info-label">Nome:</span>
        <span class="info-value" id="userNome">-</span>
    </div>
    <div class="info-item">
        <span class="info-label">Chave PIX:</span>
        <span class="info-value" id="userPix">-</span>
    </div>
    <div class="info-item">
        <span class="info-label">Saldo Retirada:</span>
        <span class="info-value" id="userSaldoRetirada">-</span>
    </div>
</div>

<div class="grid">
    <div class="box" onclick="irParaAnuncios()">Ver Anúncios</div>
    <div class="box" onclick="alert('Clickers')">Clickers</div>
    <div class="box" onclick="alert('Clicks')">Clicks</div>
    <div class="box" onclick="alert('Saldo')">Meu Saldo</div>
    <div class="box" onclick="alert('Saques')">Sacar</div>
    <div class="box" onclick="alert('UpGrade')">UpGrade</div>
</div>

<script>
function carregarDadosUsuario() {
// Busca dados completos do dashboard
const resposta = await fetch(`https://ciclone-62mq.onrender.com/api/dashboard/${user.id}`);
    
  //  const user = JSON.parse(localStorage.getItem('user'));
    
    if (!user) {
        window.location.href = 'login-top.html';
        return;
    }

    // MOSTRA DADOS REAIS DA TABELA CADASTRO
    document.getElementById('saldoInfo').innerHTML = `Saldo Disponível: R$ ${user.saldo_redisponivel.toFixed(2)}`;
    document.getElementById('userId').textContent = user.id;
    document.getElementById('userEmail').textContent = user.email;
    document.getElementById('userNome').textContent = user.nome || 'Não informado';
    document.getElementById('userPix').textContent = user.chavepix || 'Não cadastrada';
    document.getElementById('userSaldoRetirada').textContent = `R$ ${user.saldo_retirada.toFixed(2)}`;
}

function irParaAnuncios() {
    window.location.href = 'viewads-top.html';
}

function logout() {
    localStorage.removeItem('user');
}
</script>

</body>
</html>
